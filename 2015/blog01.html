<!DOCTYPE html>
<html>
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8" >
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta name="generator" content="Pearyman'S BLOG">
<meta name="author" content="Pearyman">
<meta name="description" content="html5,css3,app" />
<meta name="keywords" content="Pearyman,BLOG" />
<title>前端AD页面优化要点</title>
<style type="text/css">
    #content{margin:0 auto 50px; width: 66%; min-height: 600px;}
    #ds-reset{margin:0 auto; width: 66%;}
	.ds-powered-by,.navbar,.ds-sync,.ds-comments-info,.ds-meta{display: none;}
</style>
<xmp theme="united" style="display:none;">
-------------------
随着前端h5的发展越来越快,我们也一直在h5的广告页面上挣扎了许久。有人说其实这不就是图片的叠加嘛。把所有的图片剪吧剪吧，然后img引入完事。其实呢,真是图样图森破。
	![Alt text](../img/laugh.gif)

-------------------

其实众位看官看到这里，心里其实就在想，我<sup>TM</sup>还用你来瞎bb，不就保存吗。非也，其实这块还有一些小小的细节。听我从头说下。

不知道大家在浏览网页的时候，发没发现有这样两种图片显现的现象。
**第一种**是这个图片先是很模糊，然后在逐渐慢慢的变清晰。**第二种**是先是一条显现，然后在由上往下一点点一点点慢慢的出来，知道整个都出来。
想必大家都见过这两种现象，具体我就不上截图了。（实际上，是我手速太慢，根本就截不下来。）

大家可以随意找几个游戏网站，慢慢体会。比如这个[搜狐畅游](http://www.changyou.com/index.shtml)。
还有很多，但我就愿意找熟悉的，嘿嘿。
好了，讲完了，撤了。
![Alt text](../img/buhoudao.jpg)

这两种方式，都有其各自使用的说法。但是从用户体验来说，个人觉得还是第一种比较好的。这样，不至于先是一片白然后才出现图像。但是，第一种是怎么出来的呢？我们怎样才能避免第2种情况出现呢？

在PS中，当我们使用这个超级无敌酷炫的组合键shift+alt+command+s的时候，其实我们都已经差点可以了。
![Alt text](../img/ps01.png)

jpg的图片格式是一种压缩的图片格式。但还是想着重强调一下，当我们选择保存图片格式为jpg的时候，我们一般要将图片的保存品质保证在[60+]()以上，不要保存质量为100的图片。这个并不是最高质量的图片，只是一个数值上的优化底线，最终你会得到一个不合理的大文件。事实上把质量设置在95以上就已经足以防止丢失信息了。
在质量上有个分水岭，这就是我们通常建议JPG质量最好是在60左右的原因。当在Photoshop中把质量设置低于51的时候，它就会执行另一个叫做“降色采样（原文：color down-sampling）”的优化算法，它会在8个像素周围平均采样，这样会在边缘产生杂色。
因此，如果图片很小而且对比很大，建议在Photoshop中不要设置质量低于51。

然后，还有人在看吗？让我看看你们的小手。你们看到那张组合键呼出来的连续了吗？这个[连续]()就是方法。换种通俗的方式来讲，你点上了这个小框，它就能够将本是同步渲染图片的方式改变成异步多通道的方式。
恩，意思就是这么个意思吧。

记住啊，当你选择jpg格式的时候，一定要选上啊。阿里戈多。

----------------
###第二点 关于缓存

缓存有的时候让我们又爱又恨。但抛开别的不谈，在广告的h5页面中，如果你们加了这个:
```
 	<!--HTTP 1.1-->
    <meta http-equiv="pragma" content="no-cache">
    <!--HTTP 1.0-->
    <meta http-equiv="cache-control" content="no-cache">
    <!--Prevent caching at the proxy server-->
    <meta http-equiv="expires" content="0">
```
这样虽然，我们在以后的更换图片中，能够得到实时的内容得到实时的更新，但是请问大家有没有想到，这样做有哪些问题呢？
用户的每一次访问都是重新请求图片一次，特别是在都是图片的h5广告页面？请问你们这么做，你们确定你们不是运营商找来的拖？
![alt title](../img/doubi.jpg)

**解决办法：**

_**1** 如果有更换图片的需求，更换的图片必须更换名字。

_**2** 如果css有变动，可以在css后缀加上版本号。（这个，可以写一个自动的脚本，比如生成一个md5或者是当前时间，只要是我改了，就会自动在后缀上加上）

---------------------
###第三点 关于图片压缩

当你拿来的一个psd，然后你均分了十块，选择[连续]()，然后保存后。你是否会再看看你切分的图片有多大呢？
当你发现一张300*400的图片要占将近200K的时候,你们的心理会不会像北京的交通一样堵呢？
会啊 ，我们是什么？我们是前端啊。要将性能优化的最佳甚至要到完美啊。

其实，jpg已经是比较变态压缩后的了。但是还是有更加变态的。

我发现了一个[压缩图片网站](https://tinypng.com/)。
大家可以试一试。

如果说，当压缩完了会影响图片呈现的质量，那我也就不给大家推荐了。

这个工具🐂就🐂在不咋影响。其效果。😏，谁用谁知道。
</xmp>
<!-- 多说评论框 start -->
<div class="ds-thread" data-thread-key="1" data-title="前端AD页面制作要点" data-url="http://pearyman.github.io/blog/2015/blog01.html"></div>
<!-- 多说评论框 end -->
<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
<script type="text/javascript">
var duoshuoQuery = {short_name:"pearyman"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0]
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
<script src="/js/strapdown.js"></script>
</html>
